<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <script src="{% static 'Js/app.js' %}"></script>
    <title>TIENDA PELICULAS</title>

    
    {% load bootstrap5 %}

    
    {% bootstrap_css %}

    
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.css">

    
</head>
<body >
  
    <div class="head d-flex gap-4 justify-content-center align-items-center top"> 
        <h2 style="margin-top: 50px;">TIENDA DE PELICULAS</h2>
      </div>
    <header>
          <div class="d-flex justify-content-end gap-2" style="padding-right: 20px;" >                  
            <button class="btn btn-primary"><a href="/vistaAgregarPelicula/" class="text-decoration-none text-white">AGREGAR PELICULAS</a></button>
            
            <button class="btn btn-success  "><a href="/vistaAgregargenero/" class="text-decoration-none text-white">AGREGAR GENEROS</a></button>
          </div>
    </header>
    <div class="col-12 d-flex flex-column justify-content-center align-items-center gap-4 p-4">
        <h2>PELICULAS</h2>
        <div>
            <table id="tblProductos" class="table table-striped table-bordered">
                <thead class="table-light">
                  <tr>
                    <th scope="col">Codigo</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Protagonista</th>
                    <th scope="col">Duracion</th>
                    <th scope="col">Sinopsis</th>
                    <th scope="col">Foto</th>
                    <th scope="col">Genero</th>
                    <th scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                    {% for p in movies %}
                  <tr>
                    <td>{{ p.pel_codigo }}</td>
                    <td>{{ p.pel_titulo }}</td>
                    <td>{{ p.pel_protagonista }}</td>
                    <td>{{ p.pel_duracion }}</td>
                    <td>{{ p.pel_sinopsis }}</td>
                    <td><img src="/media/{{ p.pel_foto }}" alt="" width="100" height="100"></td>
                    <td>{{ p.pel_genero.gen_nombre }}</td>
                    <td>
                      <div class="d-flex gap-3 justify-content-center align-items-center">
                        <a href="/consultarPelicula/{{ p.pk }}" class="btn btn-primary"><ion-icon name="create-outline"></ion-icon></a>
                        <button onclick="eliminarPelicula('{{ p.pk }}')" class="btn btn-danger"><ion-icon name="trash-outline"></ion-icon></button>
                      </div>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
        </div>
    </div>
    
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#tblProductos').DataTable({
                buttons: ['excel', 'pdf', 'print']
            });
        });
    </script>

    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.all.min.js"></script>

    <script
    type="module"
    src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
  ></script>
</body>
</html>
